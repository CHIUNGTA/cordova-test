(function(){"use strict";var e={4123:function(e,t,o){var n=o(9963),r=o(6252),i=o(3577);function a(e,t,o,n,a,c){const s=(0,r.up)("router-view"),l=(0,r.up)("van-tabbar-item"),u=(0,r.up)("van-tabbar");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(s),(0,r.Wm)(u,{modelValue:a.active,"onUpdate:modelValue":t[0]||(t[0]=e=>a.active=e),onChange:c.onChange},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.routers,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:t,name:e.path,icon:e.icon},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.label),1)])),_:2},1032,["name","icon"])))),128))])),_:1},8,["modelValue","onChange"])],64)}var c=o(8951),s={name:"App",components:{},data(){return{routers:[],active:"/"}},watch:{$route(e,t){this.active=e.path}},created(){c.Z.remoteLog("app vue created")},mounted(){c.Z.remoteLog("app vue mounted"),this.fetchRouters()},methods:{onChange(e){this.$router.push(e)},fetchRouters(){let e=this.$router.getRoutes();this.routers=e.map((e=>({name:e.name,path:e.path,icon:e.meta.icon,label:e.meta.label})))}}},l=o(3744);const u=(0,l.Z)(s,[["render",a]]);var d=u,m=o(2119),g=o.p+"img/animeGirl.9bbcd8da.jpeg";const f=(0,r._)("div",{class:"home"},[(0,r._)("img",{alt:"Vue logo",src:g,width:"300"})],-1),p=(0,r.Uk)("主要按鈕"),h=(0,r.Uk)("主要按鈕"),v=(0,r.Uk)("查看暫存資料"),y=(0,r.Uk)("開始收集GPS"),b=(0,r.Uk)("關閉收集GPS"),k=(0,r.Uk)("開啟後台運行"),w=(0,r.Uk)("關閉後台運行"),C=(0,r.Uk)("取得key"),_=(0,r.Uk)("設定key"),L=(0,r._)("br",null,null,-1),S=(0,r.Uk)("開啟手電筒"),O=(0,r.Uk)("關閉手電筒");function j(e,t,o,n,a,c){const s=(0,r.up)("van-button");return(0,r.wg)(),(0,r.iD)(r.HY,null,[f,(0,r.Wm)(s,{type:"success",onClick:c.clickEvent},{default:(0,r.w5)((()=>[p])),_:1},8,["onClick"]),(0,r._)("p",null,(0,i.zw)(e.$store.state.count),1),(0,r._)("p",null,"地理資料："+(0,i.zw)(a.locationList.length),1),(0,r.Wm)(s,{type:"info",onClick:c.clickEvent2},{default:(0,r.w5)((()=>[h])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"info",onClick:c.seeSimpleData},{default:(0,r.w5)((()=>[v])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"success",onClick:c.openGPS},{default:(0,r.w5)((()=>[y])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"danger",onClick:c.closeGPS},{default:(0,r.w5)((()=>[b])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"info",onClick:c.open},{default:(0,r.w5)((()=>[k])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"info",onClick:c.disable},{default:(0,r.w5)((()=>[w])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"danger",onClick:c.getKey},{default:(0,r.w5)((()=>[C])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"success",onClick:c.setKey},{default:(0,r.w5)((()=>[_])),_:1},8,["onClick"]),L,(0,r.Wm)(s,{type:"success",onClick:c.openFlashlight},{default:(0,r.w5)((()=>[S])),_:1},8,["onClick"]),(0,r.Wm)(s,{type:"danger",onClick:c.closeFlashlight},{default:(0,r.w5)((()=>[O])),_:1},8,["onClick"])],64)}o(1703);var A=o(9669),Z=o.n(A),P=o(3907),U=(0,P.MT)({state(){return{count:0,members:[{id:"1",name:"jim"},{id:"2",name:"tom"}],userName:""}},getters:{get2Count:e=>2*e.count,getMemberById:e=>t=>e.members.find((e=>e.id===t))},mutations:{increment(e){e.count++},login(e,t){e.userName=t}},actions:{addAsync(e,t){console.log("item",t),setTimeout((()=>{console.log(e),e["commit"]("increment")}),100*e.state.count)}},modules:{}});const E=Z().create({baseURL:{NODE_ENV:"production",BASE_URL:""}.VUE_APP_BASE_API||"http://140.134.122.123:3002/api/",timeout:3e4});E.interceptors.request.use((e=>(e["Content-Type"]="application/json",e["Access-Control-Allow-Origin"]="140.134.122.123",e))),E.interceptors.response.use((e=>{const t=e.data;return 200===t.statusCode?t:(t.statusCode,void 0!==t?t:(console.log(t.message||"發生錯誤"),console.log(e),Promise.reject(new Error(t.message||"發生錯誤"))))}),(e=>(console.error(e),e.indexOf("timeout")>=0?console.log("網路不穩請再試一次。"):console.log(e),Promise.reject(new Error("發生未知的錯誤")))));var W=o(5247),$={name:"HomeView",components:{},computed:{...(0,P.Se)(["get2Count","getMemberById"])},data(){return{timer:0,locationList:[]}},created(){},beforeUnmount(){console.log("out"),clearInterval(this.timer),c.Z.remoteLog("beforeUnmount 跳出",{time:new Date})},mounted(){},watch:{},methods:{clickEvent(){this.$store.commit("login","邱炯達"),this.$store.commit("increment"),console.log(this.$store.getters.getMemberById("1")),console.log(this.getMemberById("1"))},clickEvent2(){this.$store.dispatch("addAsync",{name:"逢甲大學"});var e=function(e){alert("Latitude: "+e.coords.latitude+"\nLongitude: "+e.coords.longitude+"\nAltitude: "+e.coords.altitude+"\nAccuracy: "+e.coords.accuracy+"\nAltitude Accuracy: "+e.coords.altitudeAccuracy+"\nHeading: "+e.coords.heading+"\nSpeed: "+e.coords.speed+"\nTimestamp: "+e.timestamp+"\n")};function t(e){alert("code: "+e.code+"\nmessage: "+e.message+"\n")}navigator.geolocation.getCurrentPosition(e,t)},saveLocation(){let e=this;var t=function(t){e.locationList.push({x:t.coords.latitude,y:t.coords.longitude}),c.Z.remoteLog("定位服務",{time:new Date,y:t.coords.latitude,x:t.coords.longitude,count:W.Z.get("locationList").length}),W.Z.add("locationList",{time:new Date,y:t.coords.latitude,x:t.coords.longitude})};function o(e){console.log("code: "+e.code+"\nmessage: "+e.message+"\n")}navigator.geolocation.getCurrentPosition(t,o)},open(){cordova.plugins.backgroundMode.enable()},disable(){cordova.plugins.backgroundMode.disable()},seeSimpleData(){console.log(JSON.stringify(W.Z.get("locationList"))),alert(JSON.stringify(W.Z.get("locationList")))},openAndClose(){this.openFlashlight(),setTimeout((()=>{this.closeFlashlight()}),50)},openFlashlight(){window.plugins.flashlight.available((function(e){e?window.plugins.flashlight.switchOn((function(){}),(function(){}),{intensity:1}):alert("閃光燈無法使用")}))},closeFlashlight(){window.plugins.flashlight.switchOff()},getKey(){var e=new Keychain;console.log(e),c.Z.remoteLog("key object",e),e.getForKey((function(e){c.Z.remoteLog("get kry success",e)}),(function(e){c.Z.remoteLog("get kry error",e)}),"1234567","test-app")},setKey(){var e=new Keychain;try{e.setForKey((function(e){c.Z.remoteLog("set kry success",e)}),(function(e){c.Z.remoteLog("set kry error",e)}),"1234567","test-app","iampassword")}catch(t){c.Z.remoteLog("setkry",t)}},openGPS(){this.$dialog.alert({title:"定位開始",message:"定位開始",confirmButtonColor:"#65db03"}),c.Z.remoteLog("開始定位",{time:new Date}),this.timer=setInterval((()=>{this.saveLocation(),this.openAndClose()}),6e3)},closeGPS(){clearInterval(this.timer),this.$dialog.alert({title:"成功關閉",message:"成功關閉"})}}};const T=(0,l.Z)($,[["render",j]]);var N=T;const I=[{path:"/",name:"home",meta:{label:"首頁",icon:"home-o"},component:N},{path:"/about",name:"about",meta:{label:"關於",icon:"friends-o"},component:()=>o.e(222).then(o.bind(o,3222))},{path:"/test",name:"test",meta:{label:"設定",icon:"setting-o"},component:()=>o.e(83).then(o.bind(o,5083))}],D=(0,m.p7)({history:(0,m.r5)(),routes:I});var F=D,M=o(9937),K=o(9530),x=(o(5110),o(4916));const B=(0,n.ri)(d);B.use(F),B.use(U),K.g.use("zh-TW",x.Z),B.use(M.ZP),B.mount("#app")},8951:function(e,t,o){o(6003).connect({server:"https://console.re",channel:"mentha5681_test_app"});function n(e,t){let o=e;"object"===typeof t?o=`${e}:${JSON.stringify(t)}`:void 0!==t&&(o=`${e}:${t}`),console.re.log(o)}t["Z"]={remoteLog:n}},5247:function(e,t){function o(e){try{const t=localStorage.getItem(e);return JSON.parse(t)}catch(t){return console.log(t),{}}}function n(e,t){localStorage.setItem(e,JSON.stringify(t))}function r(e,t){let o=this.get(e)||[];Array.isArray(o)&&o.push(t),this.set(e,o)}function i(){localStorage.clear()}function a(e){localStorage.removeItem(e)}t["Z"]={get:o,set:n,clear:i,remove:a,add:r}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,i){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],i=e[u][2];for(var c=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{83:"c836093e",222:"f33300fa"}[e]+".js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="my-project:";o.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var c,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){c=d;break}}c||(s=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",t+i),c.src=n),e[n]=[r];var m=function(t,o){c.onerror=c.onload=null,clearTimeout(g);var r=e[n];if(delete e[n],c.parentNode&&c.parentNode.removeChild(c),r&&r.forEach((function(e){return e(o)})),t)return t(o)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=m.bind(null,c.onerror),c.onload=m.bind(null,c.onload),s&&document.head.appendChild(c)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}(),function(){var e={143:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(o,n){r=e[t]=[o,n]}));n.push(r[2]=i);var a=o.p+o.u(t),c=new Error,s=function(n){if(o.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,r[1](c)}};o.l(a,s,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,a=n[0],c=n[1],s=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(s)var u=s(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(4123)}));n=o.O(n)})();
//# sourceMappingURL=app.f061c905.js.map